<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Most useful git commands</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta name="generator" content="Hugo 0.48" />
	<meta property="og:title" content="Most useful git commands" />
<meta property="og:description" content="Setup Set your details
git config --global user.name &#34;John Doe&#34;git config --global user.email &#34;john@example.com&#34; Use --global to set the configuration for all projects. If git config is used without --global and run inside a project directory, the settings are set for the specific project.
Make git ignore file modes
cd project/git config core.filemode false This option is useful if the file permissions are not important to us, for example when we are on Windows." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://elastic-fermat-3dc26c.netlify.com/most-useful-git-commands/" /><meta property="article:published_time" content="2018-06-25T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2018-06-25T00:00:00&#43;00:00"/>
	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-22322985-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	<link rel="stylesheet" href="https://elastic-fermat-3dc26c.netlify.com/css/tl.css"><link rel="stylesheet" href="https://elastic-fermat-3dc26c.netlify.com/css/auto-complete.css">
	<div id="particles-js">
		
	</div>
	<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
	<script src="https://elastic-fermat-3dc26c.netlify.com/js/particles.js"></script> 

	

	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

	 <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/sql.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/css.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ini.min.js"></script> 

	<script>hljs.initHighlightingOnLoad();</script>

	

	<script type="text/javascript" src="https://elastic-fermat-3dc26c.netlify.com/js/jquery.js"></script>

	<script type="text/javascript" src="https://elastic-fermat-3dc26c.netlify.com/js/jquery.sticky.js"></script>
	<script type="text/javascript" src="https://elastic-fermat-3dc26c.netlify.com/js/tl.js"></script> 

	
</head>
<body class="body">
	
	<div class="sidebar_menu">
		<span onclick="toggleBtnClick()" id="pin_button"><sup><img src="https://elastic-fermat-3dc26c.netlify.com/img/pin.png" width="25px" class="activated"></sup></span>
		<span onclick="toggleBtnClick2()" id="hide_button"><sup><img src="https://elastic-fermat-3dc26c.netlify.com/img/eye.png" width="25px" class="activated"></sup></span>
	</div>
	
	<script type="text/javascript" src="https://elastic-fermat-3dc26c.netlify.com/js/lunr.min.js"></script>
    <script type="text/javascript" src="https://elastic-fermat-3dc26c.netlify.com/js/auto-complete.js"></script>
            
    <script type="text/javascript">
        var baseurl = "https:\/\/elastic-fermat-3dc26c.netlify.com\/";
    </script>
    <script type="text/javascript" src="https://elastic-fermat-3dc26c.netlify.com/js/search.js"></script>
			
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Web Archive" rel="home">
				<div class="logo__title">Web Archive</div>
				<div class="logo__tagline">Thomas Laber</div>
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/book/online-reads/">Online Reads</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/post/">Posts</a>
		</li>
		
		<li class="menu__item">
			<a class="menu__link" href="/categories/book/">Books</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/project/">Projects</a>
		</li>
		<li class="dropdown">
		    <a>
		        
		        <div class="searchbox pull-right">
		        	<input data-search-input id="search-by" type="text" placeholder="&#x1F50E; Search...">
		        </div>
		    </a>
	    </li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Most useful git commands</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
	<time class="meta__text" datetime="2018-06-25T00:00:00">June 25, 2018</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/post" rel="category">post</a></span>
</div>
</div>
		</header>
		<figure class="post__thumbnail">
			<img src="/img/banner/git.png" alt="Most useful git commands">
		</figure><div class="content post__content clearfix">
			

<h2 id="setup">Setup</h2>

<p><strong>Set your details</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">git config --global user.name &#34;John Doe&#34;
git config --global user.email &#34;john@example.com&#34;</code></pre></div>

<p>Use <code>--global</code> to set the configuration for all projects. If <code>git config</code> is used without <code>--global</code> and run inside a project directory, the settings are set for the specific project.</p>

<p><strong>Make git ignore file modes</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd project/
git config core.filemode false</code></pre></div>

<p>This option is useful if the file permissions are not important to us, for example when we are on Windows.</p>

<p><strong>See your settings</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git config --list</code></pre></div>

<p><strong>Get help for a specific git command</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git help clone</code></pre></div>

<h2 id="starting-a-repo">Starting a repo</h2>

<h3 id="initialize-a-git-repository-for-existing-code">Initialize a git repository for existing code</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd existing-project/
git init</code></pre></div>

<h3 id="clone-a-remote-repository">Clone a remote repository</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://github.com/user/repository.git</code></pre></div>

<p>This creates a new directory with the name of the repository.</p>

<p><strong>Clone a remote repository in the current directory</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://github.com/user/repository.git .</code></pre></div>

<h2 id="remotes">Remotes</h2>

<p><strong>Update and merge your current branch with a remote</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd repository/
git pull origin master</code></pre></div>

<p>Where origin is the remote repository, and master the remote branch.
If you don&rsquo;t want to merge your changes, use <code>git fetch</code></p>

<p><strong>View remote urls</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git remote -v</code></pre></div>

<p><strong>Change origin url</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git remote set-url origin http//github.com/repo.git</code></pre></div>

<p><strong>Add remote</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git remote add remote-name https://github.com/user/repo.git</code></pre></div>

<h2 id="check-differences">Check Differences</h2>

<p><strong>See non-staged (non-added) changes to existing files</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff</code></pre></div>

<p>Note that this does not track new files.</p>

<p><strong>See staged, non-commited changes</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff --cached</code></pre></div>

<p><strong>See differences between local changes and master</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff origin/master</code></pre></div>

<p>Note that origin/master is one local branch, a shorthand for refs/remotes/origin/master, which is the full name of the remote-tracking branch.</p>

<p><strong>See differences between two commits</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff COMMIT1_ID COMMIT2_ID</code></pre></div>

<p><strong>See the files that changed between two commits</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff --name-only COMMIT1_ID COMMIT2_ID</code></pre></div>

<p><strong>See the files changed in a specific commit</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff-tree --no-commit-id --name-only -r COMMIT_ID
<span style="color:#75715e">#or
</span><span style="color:#75715e"></span>git show --pretty<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;format:&#34;</span> --name-only COMMIT_ID</code></pre></div>

<p>Source: <a href="http://stackoverflow.com/a/424142/1391963">http://stackoverflow.com/a/424142/1391963</a></p>

<p><strong>See diff before push</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff --cached origin/master</code></pre></div>

<p><strong>See diff with only the changed lines (no context)</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff --unified<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span></code></pre></div>

<p><strong>See details (log message, text diff) of a commit</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git show COMMIT_ID</code></pre></div>

<p><strong>Count the number of commits</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git rev-list HEAD --count
git rev-list COMMIT_ID --count</code></pre></div>

<p><strong>Check the status of the working tree (current branch, changed files&hellip;)</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git status</code></pre></div>

<h2 id="commiting">Commiting</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add changed_file.txt
git add folder-with-changed-files/
git commit -m <span style="color:#e6db74">&#34;Commiting changes&#34;</span></code></pre></div>

<p><strong>Rename/move and remove files</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git rm removeme.txt tmp/crap.txt
git mv file_oldname.txt file_newname.txt
git commit -m <span style="color:#e6db74">&#34;deleting 2 files, renaming 1&#34;</span></code></pre></div>

<p><strong>Change message of last commit</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git commit --amend -m <span style="color:#e6db74">&#34;New commit message&#34;</span></code></pre></div>

<h3 id="push-local-commits-to-remote-branch">Push local commits to remote branch</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git push origin master</code></pre></div>

<!--**Push commits to all remotes, in a single command**

Git does not do that, but see https://stackoverflow.com/a/18674313/1391963

-->

<p><strong>Revert one commit, push it</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git revert dd61ab21
git push origin master</code></pre></div>

<h3 id="revert-to-the-moment-before-one-commit">Revert to the moment before one commit</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#reset the index to the desired tree
</span><span style="color:#75715e"></span>git reset 56e05fced

<span style="color:#75715e">#move the branch pointer back to the previous HEAD
</span><span style="color:#75715e"></span>git reset --soft HEAD@<span style="color:#f92672">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">}</span>
git commit -m <span style="color:#e6db74">&#34;Revert to 56e05fced&#34;</span>

<span style="color:#75715e">#Update working copy to reflect the new commit
</span><span style="color:#75715e"></span>git reset --hard</code></pre></div>

<p>Source: <a href="http://stackoverflow.com/q/1895059/1391963">http://stackoverflow.com/q/1895059/1391963</a></p>

<p><strong>Undo last commit, preserving local changes</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset --soft HEAD~1</code></pre></div>

<p><strong>Undo last commit, without preserving local changes</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset --hard HEAD~1</code></pre></div>

<p><strong>Undo last commit, preserving local changes in index</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset --mixed HEAD~1
<span style="color:#75715e">#or 
</span><span style="color:#75715e"></span>git reset HEAD~1</code></pre></div>

<p>See also <a href="http://stackoverflow.com/q/927358/1391963">http://stackoverflow.com/q/927358/1391963</a></p>

<p><strong>Undo non-pushed commits</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset origin/master</code></pre></div>

<p><strong>Reset to remote state</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git fetch origin
git reset --hard origin/master</code></pre></div>

<p><strong>See local branches</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git branch</code></pre></div>

<p><strong>See all branches</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git branch -a</code></pre></div>

<h2 id="logs">Logs</h2>

<p><strong>See recent commit history</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git log</code></pre></div>

<p><strong>See commit history for the last two commits</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git log -2</code></pre></div>

<p><strong>See commit history for the last two commits, with diff</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git log -p -2</code></pre></div>

<p><strong>See commit history printed in single lines</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git log --pretty<span style="color:#f92672">=</span>oneline</code></pre></div>

<!--## Patches

**Make some changes, create a patch**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff &gt; patch-issue-1.patch</code></pre></div> 

**Add a file and create a patch**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add newfile
git diff --staged &gt; patch-issue-2.patch</code></pre></div> 

**Add a file, make some changes, and create a patch**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add newfile
git diff HEAD &gt; patch-issue-2.patch</code></pre></div> 

**Make a patch for a commit**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git format-patch COMMIT_ID</code></pre></div> 

**Make patches for the last two commits**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git format-patch HEAD~2</code></pre></div> 

**Make patches for all non-pushed commits**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git format-patch origin/master</code></pre></div> 

**Create patches that contain binary content**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git format-patch --binary --full-index origin/master</code></pre></div> 

**Apply a patch**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git apply -v patch-name.patch</code></pre></div> 

**Apply a patch created using format-patch**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git am patch1.patch</code></pre></div> 

**Break up multiple changes into separate commits (or commit only part of a changed file)**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add --patch file.txt
<span style="color:#f92672">(</span>press <span style="color:#e6db74">&#39;y&#39;</span> <span style="color:#66d9ef">for</span> the chunks to add<span style="color:#f92672">)</span>
git commit -m <span style="color:#e6db74">&#39;first part of the file&#39;</span>
<span style="color:#f92672">(</span>repeat <span style="color:#66d9ef">if</span> desired<span style="color:#f92672">)</span></code></pre></div> 

Sources: https://stackoverflow.com/q/4948494/1391963, https://stackoverflow.com/q/1085162/1391963

## Tags

**Create a tag**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git tag <span style="color:#ae81ff">7</span>.x-1.3</code></pre></div> 

**Push a tag**

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git push origin <span style="color:#ae81ff">7</span>.x-1.3</code></pre></div> 
-->

<h2 id="branching">Branching</h2>

<p><strong>Create a branch</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout master
git branch new-branch-name</code></pre></div>

<p>Here master is the starting point for the new branch. Note that with these two commands we don&rsquo;t move to the new branch, as we are still in master and we would need to run git checkout new-branch-name. The same can be achieved using one single command:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout -b new-branch-name</code></pre></div>

<p><strong>Create a branch from a previous commit</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git branch branchname sha1-of-commit</code></pre></div>

<p>or using a symbolic reference (e.g. last commit):</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git branch branchname HEAD~1
<span style="color:#75715e">#or 
</span><span style="color:#75715e"></span>git checkout -b branchname sha1-of-commit</code></pre></div>

<p>Source: <a href="http://stackoverflow.com/a/2816728/1391963">http://stackoverflow.com/a/2816728/1391963</a></p>

<p><strong>Checkout a branch</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout new-branch-name</code></pre></div>

<p><strong>See commit history for just the current branch</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git cherry -v master</code></pre></div>

<p>(master is the branch you want to compare)</p>

<p><strong>Merge branch commits</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout master
git merge branch-name</code></pre></div>

<p>Here we are merging all commits of branch-name to master.</p>

<p><strong>Merge a branch without committing</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git merge branch-name --no-commit --no-ff</code></pre></div>

<p><strong>See differences between the current state and a branch</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff branch-name</code></pre></div>

<p><strong>See differences in a file, between the current state and a branch</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git diff branch-name path/to/file</code></pre></div>

<p><strong>Delete a branch</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git branch -d new-branch-name</code></pre></div>

<p><strong>Push the new branch</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git push origin new-branch-name</code></pre></div>

<p><strong>Get all branches</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git fetch origin</code></pre></div>

<p><strong>Get the git root directory</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git rev-parse --show-toplevel</code></pre></div>

<p>Source: <a href="http://stackoverflow.com/q/957928/1391963">http://stackoverflow.com/q/957928/1391963</a></p>

<p><strong>Remove from repository all locally deleted files</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git rm <span style="color:#66d9ef">$(</span>git ls-files --deleted<span style="color:#66d9ef">)</span></code></pre></div>

<p>Source: <a href="http://stackoverflow.com/a/5147119/1391963">http://stackoverflow.com/a/5147119/1391963</a></p>

<p><strong>Delete all untracked files</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clean -f</code></pre></div>

<p><strong>Including directories:</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clean -f -d</code></pre></div>

<p><strong>Preventing sudden cardiac arrest:</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clean -n -f -d</code></pre></div>

<p>Source: <a href="http://stackoverflow.com/q/61212/1391963">http://stackoverflow.com/q/61212/1391963</a></p>

<p><strong>Delete all files from a git repository that have already been deleted from disk:</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git ls-files --deleted -z | xargs -0 git rm</code></pre></div>

<p>Source (and alternatives): <a href="https://stackoverflow.com/a/5147119/1391963">https://stackoverflow.com/a/5147119/1391963</a></p>

<p><strong>Show total file size difference between two commits</strong></p>

<p>Short answer: Git does not do that.
Long answer: See <a href="http://stackoverflow.com/a/10847242/1391963">http://stackoverflow.com/a/10847242/1391963</a></p>

<p><strong>Unstage (undo add) files:</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset HEAD file.txt</code></pre></div>

<p><strong>See closest tag</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git describe --tags <span style="color:#e6db74">`</span>git rev-list --tags --max-count<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">`</span></code></pre></div>

<p>Source: <a href="http://stackoverflow.com/q/1404796/1391963">http://stackoverflow.com/q/1404796/1391963</a>. See also git-describe.
Debug SSH connection issues</p>

<p>GIT_SSH_COMMAND=&ldquo;ssh -vvv&rdquo; git clone <your_repository></p>

<p>Have git pull running every X seconds, with GNU Screen</p>

<p>Use Ctrl+a Ctrl+d to detach the screen.
See previous git commands executed</p>

<p>history | grep git</p>

<p>or</p>

<p>grep &lsquo;^git&rsquo;  /root/.bash_history</p>

<p>See recently used branches (i.e. branches ordered by most recent commit)</p>

<p>git for-each-ref &ndash;sort=-committerdate refs/heads/ | head</p>

<p>Source: <a href="http://stackoverflow.com/q/5188320/1391963">http://stackoverflow.com/q/5188320/1391963</a>
Tar project files, excluding .git directory</p>

<p>cd ..
tar cJf project.tar.xz project/ &ndash;exclude-vcs</p>

<p>Tar all locally modified files</p>

<p>git diff &ndash;name-only | xargs tar -cf project.tar -T -</p>

<p>Look for conflicts in your current files</p>

<p>grep -H -r &ldquo;&lt;&lt;&lt;&rdquo; *
grep -H -r &ldquo;&gt;&gt;&gt;&rdquo; *
grep -H -r &lsquo;^=======$&rsquo; *</p>

<p>There&rsquo;s also git-grep.
Apply a patch not using git:</p>

<p>patch -p1 &lt; file.patch</p>

<p>Source <a href="https://orga.cat/posts/most-useful-git-commands" target="_blank">orga.cat/posts/most-useful-git-commands</a></p>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="icon icon-tag" width="16" height="16" viewBox="0 0 16 16"><path d="M16 9.5c0 .373-.24.74-.5 1l-5 5c-.275.26-.634.5-1 .5-.373 0-.74-.24-1-.5L1 8a2.853 2.853 0 0 1-.7-1C.113 6.55 0 5.973 0 5.6V1.4C0 1.034.134.669.401.401.67.134 1.034 0 1.4 0h4.2c.373 0 .95.113 1.4.3.45.187.732.432 1 .7l7.5 7.502c.26.274.5.632.5.998zM3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/devops/" rel="tag">devops</a></li>
	</ul>
</div>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Thomas Laber avatar" src="/img/tl.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Thomas Laber</span>
	</div>
	<div class="authorbox__description">
		&#34;Failure is not an option. 
 Everyone has to succeed.&#34; - Arnold Schwarzenegger
	</div>
</div>

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/scrum-psm-i/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">Scrum PSM I</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/grpc-package/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">How to install Fultz&#39; grpc package</p></a>
	</div>
</nav>


			</div>
			
<aside class="sidebar">
<div class="widget-toc" id="sticker">
	<h4 class="widget__title">Table of Content</h4>
	<div class="toc__menu">
		<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#starting-a-repo">Starting a repo</a>
<ul>
<li><a href="#initialize-a-git-repository-for-existing-code">Initialize a git repository for existing code</a></li>
<li><a href="#clone-a-remote-repository">Clone a remote repository</a></li>
</ul></li>
<li><a href="#remotes">Remotes</a></li>
<li><a href="#check-differences">Check Differences</a></li>
<li><a href="#commiting">Commiting</a>
<ul>
<li><a href="#push-local-commits-to-remote-branch">Push local commits to remote branch</a></li>
<li><a href="#revert-to-the-moment-before-one-commit">Revert to the moment before one commit</a></li>
</ul></li>
<li><a href="#logs">Logs</a></li>
<li><a href="#branching">Branching</a></li>
</ul></li>
</ul>
</nav>
	</div>
</div>


</aside>

		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2019 Web Archive.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>